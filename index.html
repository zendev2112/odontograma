<!DOCTYPE html>
<html lang="es">

<head>
    <title>Odontograma Dental Profesional</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="./jquery.odontogram.js"></script>
    <script src="patient-display.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header class="app-header">
        <div class="patient-info" id="patientInfo">
            <div class="patient-name" id="patientName">Cargando paciente...</div>
            <div class="patient-title">ODONTOGRAMA DENTAL</div>
        </div>
    </header>

    <div class="main-container" style="margin-top: 60px;">
        <!-- CONTROLS COLUMN (Column 1 - 20%) -->
        <div class="controls-column">

            <!-- Treatment Controls -->
            <div class="controls-panel">
                <div class="button-grid">
                    <!-- All buttons in single column -->
                    <button type="button" id="ODONTOGRAM_MODE_MIS">
                        <span class="symbol" style="color: red;">X</span>
                        <span class="name">Diente Ausente</span>
                    </button>
                    <button type="button" id="ODONTOGRAM_MODE_UNE">
                        <span class="symbol" style="color: blue;">X</span>
                        <span class="name">Diente No Erupcionado</span>
                    </button>

                    <button type="button" id="ODONTOGRAM_MODE_CFR">
                        <span class="symbol">=</span>
                        <span class="name">Diente Indicado para Extracci√≥n</span>
                    </button>

                    <button type="button" id="ODONTOGRAM_MODE_CARIES" class="btn-caries-curable">
                        <span class="symbol"></span>
                        <span class="name">Caries</span>
                    </button>

                    <button type="button" id="ODONTOGRAM_MODE_PRE">
                        <span class="symbol">Pd</span>
                        <span class="name">Paradentosis</span>
                    </button>

                    <button type="button" id="ODONTOGRAM_MODE_NVT">
                        <span class="symbol">/Sp</span>
                        <span class="name">Surco Profundo</span>
                    </button>

                    <button type="button" id="ODONTOGRAM_MODE_COF">
                        <span class="symbol">/Ob</span>
                        <span class="name">Obturaci√≥n</span>
                    </button>

                    <button type="button" id="ODONTOGRAM_MODE_INC">
                        <span class="symbol">I</span>
                        <span class="name">Incrustaci√≥n</span>
                    </button>

                    <button type="button" id="ODONTOGRAM_MODE_RES">
                        <span class="symbol"></span>
                        <span class="name">Restauraci√≥n</span>
                    </button>

                    <button type="button" id="ODONTOGRAM_MODE_REF">
                        <span class="symbol">/Rf</span>
                        <span class="name">Restauraci√≥n Filtrada</span>
                    </button>

                    <button type="button" id="ODONTOGRAM_MODE_POC">
                        <span class="symbol big">‚óã</span>
                        <span class="name">Corona</span>
                    </button>

                    <button type="button" id="ODONTOGRAM_MODE_FRM_ACR">
                        <span class="symbol">P</span>
                        <span class="name">Pivot</span>
                    </button>

                    <button type="button" id="ODONTOGRAM_MODE_FMC">
                        <span class="symbol big">‚ñ°</span>
                        <span class="name">Prot. Removible</span>
                    </button>

                    <button type="button" id="ODONTOGRAM_MODE_BRIDGE">
                        <span class="symbol">Œ†</span>
                        <span class="name">Puente</span>
                    </button>

                    <button type="button" id="ODONTOGRAM_MODE_IPX">
                        <span class="symbol">IM</span>
                        <span class="name">Implante</span>
                    </button>

                    <button type="button" id="ODONTOGRAM_MODE_RCT">
                        <span class="symbol big">‚ñº</span>
                        <span class="name">Tratamiento de Conducto</span>
                    </button>

                    <button type="button" id="ODONTOGRAM_MODE_ORT">
                        <span class="symbol">~</span>
                        <span class="name">Ortodoncia</span>
                    </button>
                </div>
            </div>

            <!-- Action Controls -->
            <div class="control-group">
                <button id="ODONTOGRAM_MODE_HAPUS" class="treatment-btn delete-btn"
                    title="Borrar tratamientos seleccionados">
                    <span class="icon">üóëÔ∏è</span>
                    <span class="name">Borrar</span>
                </button>
                <button id="ODONTOGRAM_MODE_DEFAULT" class="treatment-btn default-btn"
                    title="Limpiar todo el odontograma">
                    <span class="icon">üßπ</span>
                    <span class="name">Limpiar</span>
                </button>
            </div>

            <!-- Download and Export Controls -->
            <div class="control-group">
                <button id="download" class="treatment-btn download-btn" title="Descargar imagen del odontograma">
                    <span class="icon">üíæ</span>
                    <span class="name">Descargar</span>
                </button>
                <button id="exportData" class="treatment-btn export-btn" title="Exportar datos en formato JSON">
                    <span class="icon">üìä</span>
                    <span class="name">Exportar</span>
                </button>
            </div>
        </div>

        <!-- CONTENT AREA (Columns 2-5 - 80%) -->
        <div class="content-area">
            <!-- CONTROLS ROW ABOVE ODONTOGRAM -->
            <div class="controls-row">
                <!-- Tipo de Dentici√≥n as Radio Buttons -->
                <div class="dentition-selector">
                    <h3>Tipo de Odontograma</h3>
                    <div class="radio-group">
                        <input type="radio" id="dentition-adult" name="dentition-type" value="adult" checked>
                        <label for="dentition-adult" class="layer-label">
                            <span class="layer-indicator"></span>
                            Adulto
                        </label>

                        <input type="radio" id="dentition-children" name="dentition-type" value="children">
                        <label for="dentition-children" class="layer-label">
                            <span class="layer-indicator"></span>
                            Ni√±o
                        </label>
                    </div>
                </div>

                <!-- Tipo de Prestaci√≥n -->
                <div class="prestacion-selector">
                    <h3>Tipo de Prestaci√≥n</h3>
                    <div class="radio-group">
                        <input type="radio" id="layer-pre" name="annotation-layer" value="pre" checked>
                        <label for="layer-pre" class="layer-label pre-existing">
                            <span class="layer-indicator pre"></span>
                            Prestaci√≥n Preexistente
                        </label>

                        <input type="radio" id="layer-req" name="annotation-layer" value="req">
                        <label for="layer-req" class="layer-label required">
                            <span class="layer-indicator req"></span>
                            Prestaci√≥n Requerida
                        </label>
                    </div>
                </div>
            </div>

            <!-- ODONTOGRAM ROW -->
            <div class="odontogram-row">
                <div class="odontogram-container">
                    <canvas id="odontogram">
                        Tu navegador no soporta canvas. Por favor actualiza tu navegador.
                    </canvas>
                </div>


            </div>

            <!-- NOTES ROW BELOW ODONTOGRAM -->
            <div class="notes-row">
                <div class="notes-section">
                    <h3>Notas</h3>
                    <div id="odontogramData" class="odontogram-data-content">
                        <p>Los datos aparecer√°n aqu√≠ cuando se marquen los dientes</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="./dental-app.js"></script>
</body>

</html>